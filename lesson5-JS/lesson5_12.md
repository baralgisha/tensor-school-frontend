# Работа с объектами

Объект — это тип данных, представляющих собой некий набор свойств и методов работы с ними.
Каждое свойство состоит из имени и значения, ассоциированного с этим именем. 
Значением свойства может быть функция, которую можно назвать методом объекта.

Например, если мы хотим создать сущность для описания кадровых данных о сотруднике, нам понадобится его ФИО, год рождения, пол, информация о квалификации, образовании и т.д. Все эти данные о сотруднике удобно свести в общую сущность, а также реализовать методы для работы с этими данными.

## Создание объекта

Создать объект предельно просто, причем JavaScript предлагает сразу несколько вариантов, как это можно сделать. Для большинства ситуация подходит простейший способ, но в ряде случаев его оказывается недостаточно и тогда можно использовать другие варианты.

Простейший способ создать объект в JavaScript выглядит следующим образом:

```javascript
let obj = {};   // Создан объект obj
```

Чуть более длинный вариант выглядит так:

```javascript
let obj = new Object([object]);     // Создан объект obj
```

Этот метод точно также создает объект, но при этом в качестве необязательного параметра конструктору можно передать объект, который выступит в качестве прототипа для нового объекта.

Для создания объекта можно использовать функциональный стиль, когда мы создаем некую функцию, которая в дальнейшем выступает как конструктор для объекта. При создании экземпляра такого объекта необходимо перед именем функции использовать ключевое слово **new**:

```javascript
function Foo() {
    // Тело функции
}

let obj = new Foo();    // Создан объект obj
```

Наконец, последний способ создания объектов, который мы рассмотрим - это *использование классов*.
Классы в JavaScript были введены в ECMAScript 2015 и представляют собой синтаксический сахар над существующим в JavaScript механизмом прототипного наследования. Создать класс в JavaScript можно следующим образом:

```javascript
class Foo() {
    ...
}

let obj = new Foo();    // Создан объект obj
```

## Работа с объектами

Объект по своей сути - это хэш-таблица.
Инициализация объекта и его изменение возможна в любой момент:

```javascript
    let obj = {};               // Создан новый объект
    obj.key = 10;               // Добавлено числовое свойство с ключом "key" и ему присвоено значение 10
    obj.another = 'string';     // Добавлено строковое свойство с ключом "another" и ему присвоено значение 'string'
    obj.more = {};              // Добавлено объектное свойство с ключом "more" и ему присвоено значение 'пустой объект'
```

Ключом для создаваемого свойства объекта может быть любая строка, допускается использование подчеркиваний. 
В названии свойства можно использовать кириллицу и даже пробелы, но в этом случае к свойству придется обращаться черех квадратные скобки:

```javascript
    let obj = {};
    obj.another_key = false;
    obj['ключ с пробелом'] = 10;    // Это валидный ключ, если к нему обращаться через []

    alert(obj['ключ с пробелом']);  // 10
```

Ключи в обекте негистронезависимы:

```javascript
    let obj = {};
    obj.key = false;    // Это три
    obj.Key = true;     // совершенно разных
    obj.KEY = null;     // ключа
```

Объект может быть инициализирован сразу в момент создания:

```javascript
    let obj = {
        key: 'value',
        another: 123,
        child: {
            x: 10
        },
        sayHello: function() {
            alert('Hello!');
        }
    };

    obj.another = null;
    obj.sayHello();
```

Свойство объекта при необходимости легко можно удалить при помощи оператора *delete*:

```javascript
    let obj = {
        key: 1;
    };
    
    console.log(obj.key);   // 1
    delete obj.key;         // удаление свойства
    console.log(obj.key);   // undefined
```


## "Обход" объекта

Часто бывает необходимо последовательно пройтись по всем свойствам объекта - например, для отображения этих свойств на экране.
Простой и удобный способ сделать это - использовать конструкцию **for-in**:

```javascript
    let obj  = { ... };
    for (let key in obj) {
        // Сейчас название свойства содержится в переменной key,
        // а получить доступ к значению этого свойства можно через obj[key]
        console.log(`${key}: ${obj[key]}`);
    };
```

В большинстве современных браузеров есть возможность получить список всех названий свойств объекта в виде массива при помощи функции Object.key(), и этот способ также можно использовать для обхода объекта:

```javascript
    let obj  = { ... };
    let keys = Object.key(obj);     // массив строк-ключей
    for (let i = 0; i < keys.length; i++) {
        console.log(`${keys[i]}: ${obj[keys[i]]}`);
    }
```

## Spread

Аналогично тому, как мы можем использовать **spread** для того, чтобы "развернуть" массив в виде совокупности его элементов (см. предыдущий [раздел](https://pro-edu.tensor.ru/tensor/lesson/page.php?id=3166&sectionid=4&pageid=11)), мы можем "развернуть" и объект. Этот процесс называется *деструктуризацией*:

```javascript
    let obj  = {
        width: '100px',
        height: '100px',
        color: '#fefefe'
    };
    let { width, height, color} = obj;
```

В примере выше в результате использования деструктуризации значения свойств полей были разнесены по соответствующим переменным. При этом, если поля с таким названием в объекте не окажется или оно не будет определено, существует возможность задать переменной значение по умолчанию:

```javascript
    let obj  = {
        width: '100px',
        height: '100px',
        color: '#fefefe'
    };
    let { width, height, color, title = 'Name'} = obj;
```

Если же мы хотим, чтобы в процессе деструктуризации объекта соответствие имен полей и переменных было произвольным, мы можем явно указать, из какого свойства нам нужно пролучить значение:

```javascript
    let obj  = {
        w: '100px',
        h: '100px',
        c: '#fefefe'
    };
    let { width: w, height: h, color: c} = obj;
```

**Spread** для объектов также существует и может быть использован, например, для интеграции полей одного объекта в другой объект:

```javascript
let obj = { width: 100, ...{ height: 30 }};
console.log(obj);   // { width: 100, height: 30 }
```

Использование деструктуризации и spread позволяет также "развернуть" часть полей из объекта, а оставшиеся свойства переупаковать в новый объект:

```javascript
let { width, ...other} = { width: 100, height: 30, color: '#fefefe' };
console.log(width);   // 100
console.log(other);   // { height: 30, color: '#fefefe' }
```

### Статьи по теме

[Объекты: основы](https://learn.javascript.ru/object)
[Работа с объектами](https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Working_with_Objects)

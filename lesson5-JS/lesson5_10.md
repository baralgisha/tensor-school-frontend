# Циклы

Очень часто в процессе работы программы нам требуется выполнить какое-то действие много раз подряд.
Например, вывод на экране многострочной ведомости подразумевает, что нам нужно многократно выполнить некий код, отвечающий за отображение одной строчки ведомости.

Цикл - это и есть такое многократное выполнение фрагмента кода. 
Существует множество различных видов циклов, но все они по сути делают тоже самое: повторяют какое-либо действие несколько раз. 

У цикла обязательно есть условие выхода из цикла.
Это условие может проверяться как до начала выполнения цикла (предусловие), так и после того, как цикл выполнится хотя бы один раз (постусловие).


## **while** - цикл с предусловием.

Если условие не выполнено - цикл не будет выполнен ни разу:

```javascript
    while (условие) {
        // тело цикла
    };
```

Например:

```javascript
    // Очередной вариант вычисления факториала числа
    let value = 10;
    let factorial = 0;
    while (value > 0) {
        factorial *= value;
        value--;
    };
```


## **do while** - цикл с постусловием.

Такой цикл гарантировано будет выполнен хотя бы один раз, вне зависимости от условия выхода:

```javascript
    do {
        // тело цикла
    } while (условие);
```

Например:

```javascript
    // Добъемся от пользователя ввода числа в диапазоне от 1 до 10
    let value, num;
    do {
        value = prompt('Введите число');
        num = parseInt(value, 10);
    } while (isNaN(num) || num < 0 || num > 10);
```


## Цикл **for**

**for** - это наиболее часто используемый вид цикла. 
Полная аннотация содержит установку начальных значений, условие выхода и шаг. 
Сокращенная может содержать только условие.

```javascript
    // Полная аннотация
    for (начало; условие; шаг) {
        // тело цикла
    };

    // Сокращенная аннотация
    for (; условие;) {
        // тело цикла
    };
```

Например:

```javascript
    // Посчитаем все нечетные числа в диапазоне от 0 до 100
    let sum = 0;
    for (let i = 1; i < 100; i+=2) {
        sum += i;
    };
```

## Цикл по содержимому объекта или массива

Интересный и популярный способ использования цикла - последовательный перебор всех полей объекта или всех элементов массива. JavaScript предлагает для этого отдельные специальные разновидности цикла for.

Для обхода объектов циклом for используется нотация **in**. 
При этом цикл проходит по всем ключам объекта.

```javascript
    for (const property in object) {
        console.log(`Свойство ${property}: ${object[property]}`);
    }
```

Для последовательного обхода массива (как и любой итерируемой сущности) используется нотация **of**. 
Конечно, можно также использовать и "классический" вариант цикла for, но версия с **of** зачастую оказывается удобнее: в теле цикла нам сразу последовательно доступен каждый элемент итерируемой сущности и нам не нужно предпринимать дополнительные действия для его получения, как это было в предыдущем примере:

```javascript
    const arr = ['a', 'b', 'c'];
    for (const element of arr) {
        console.log(element)
    };
```


## Управление циклом

Существует возможность *принудительно прервать* выполнение цикла и передать управление коду, находящемуся после цикла.
Для этой цели существует оператор **break**.
Особенно важна подобная возможность для "бесконечных" циклов типа while(true), в которых никакой другой способ выхода из цикла не предусматривается:

```javascript
    let sum;
    while(true) {
        let value =+ prompt("Введите число");
        if (!value) {
            break;  // Прервать цикл
        }
        sum += value;
    }
```

Также существует возможность "перезапуска" цикла с помощью оператора **continue**.
Когда интерпретатор встречает оператор continue, он прерывает выполнение тела цикла и переходит на следующую итерацию:

```javascript
    for (let i = 0; i < 10; i++) {
        // если true, пропустить оставшуюся часть тела цикла
        if (i % 2 == 0) {
            continue;   // "Перезапуск"
        }
        console.log(i); // 1, 3, 5, 7, 9
    }
```


### Статьи по теме

[Циклы JavaScript](https://html5book.ru/cikly-javascript/)
[Циклы и итерации](https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Loops_and_iteration)

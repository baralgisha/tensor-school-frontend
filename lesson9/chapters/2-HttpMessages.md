# HTTP Сообщения

Обмен данными между клиентом и сервером происходит с помощью HTTP сообщений. Сообщения HTTP состоят из текстовой информации в кодировке ASCII, записанной в несколько строк.  
В HTTP/1.1 и более ранних версиях они пересылаются в качестве обычного текста.  
В HTTP/2 текстовое сообщение разделяется на фреймы, что позволяет выполнить оптимизацию и повысить производительность.

Есть два типа HTTP сообщений:  
* **запросы**, отправляются клиентом
* **ответы**, отправляются от сервера.

HTTP запросы и ответы имеют близкую структуру. Они состоят из:

1. Стартовой строки, описывающей запрос, или статус (успех или сбой). Это всегда одна строка.
   * структура стартовой строки запроса:
      1. Метод HTTP.
      2. Путь запроса.
      3. Версия протокола в формате `HTTP/version`.
      ```
         GET /anypage HTTP/1.1
      ```
   * структура стартовой строки ответа:
      1. Версия протокола в формате `HTTP/version`.
      2. Код состояния ([status code](https://developer.mozilla.org/ru/docs/Web/HTTP/Status)), показывающий, был ли запрос успешным.
      3. Пояснение. Краткое текстовое описание кода состояния, помогающее пользователю понять сообщение HTTP.
      ```
         HTTP/1.1 404 Not Found
      ```

2. Произвольного набора HTTP заголовков, определяющих запрос или описывающих тело сообщения.
   * бывают заголовки, характерные только для запроса, содержащие дополнительную информацию о клиенте, например, User-Agent.
   * бывают заголовки, характерные только для ответа, уведомляющие клиент о некоторых возможностях сервера, например, Accept-Ranges.
3. Пустой строки, указывающей, что вся мета информация отправлена.
4. Произвольного тела, содержащего пересылаемые с запросом данные (например, содержимое HTML-формы ) или отправляемый в ответ документ. Наличие тела и его размер определяется стартовой строкой и заголовками HTTP.

![HTTP сообщения](../resources/http-messages.jpg)
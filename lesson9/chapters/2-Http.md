# HTTP

HTTP - Hypertext Transfer Protocol (Протокол передачи гипертекста) - протокол прикладного уровня передачи данных, изначально — в виде гипертекстовых документов в формате HTML, в настоящее время используется для передачи произвольных данных. Протокол HTTP лежит в основе обмена данными в Интернете. HTTP является протоколом клиент-серверного взаимодействия, что означает инициирование запросов к серверу самим получателем, обычно веб-браузером.

Протокол HTTP является stateless, т.е. не сохраняет своего состояния. Это означает отсутствие сохранения промежуточного состояния между парами «запрос-ответ». Компоненты, использующие HTTP, могут самостоятельно осуществлять сохранение информации о состоянии, связанной с последними запросами и ответами (например, «куки» на стороне клиента, «сессии» на стороне сервера).

## HTTP методы

В HTTP есть множество методов запроса, которые указывают, какое желаемое действие выполнится для данного ресурса.

Самые используемые методы:

* GET - Запрашивает представление ресурса. Запросы с использованием этого метода могут только извлекать данные. Не имеет тела.

* POST - Применяется для передачи пользовательских данных заданному ресурсу.

Со всеми методами можно осзнакомиться [тут](https://developer.mozilla.org/ru/docs/Web/HTTP/Methods).

Методы могут быть безопасными, идемпотентными или кешируемыми.

Безопасные - не меняют состояние сервера, проводит операции "только чтение".

Кешируемые - которые могут быть закешированы, то есть сохранены для дальнейшего восстановления и использования позже, тем самым снижая число запросов к серверу (кешируется HTTP-ответ метода).

Идемпотентные - методы, котрые при повторном идентичном запросе имеют один и тот же эффект, не изменяющий состояние сервера.

Правильная реализация безопасного метода - это ответственность **серверного приложения**.

## HTTP заголовки

Заголовки HTTP позволяют клиенту и серверу отправлять дополнительную информацию с HTTP запросом или ответом. В HTTP-заголовке содержится не чувствительное к регистру название, а затем после (:) непосредственно значение.

```
   Host: mysite.com
   Content-Type: text/html; charset=UTF-8
``` 

Есть заголовки, которые браузер проставляет сам, и их нельзя изменить програмно. Они определены в [спецификации](https://fetch.spec.whatwg.org/#forbidden-header-name).

Со всеми заголовками можно осзнакомиться [тут](https://developer.mozilla.org/ru/docs/Web/HTTP/Headers).

## HTTP куки (cookie)

HTTP cookie - это небольшой фрагмент данных хранящихся в браузере и отправляемый им на сервер вместе с запросом (в составе HTTP заголовков). Это, в частности, позволяет узнать, с одного ли браузера пришли оба запроса (например, для аутентификации пользователя). Они запоминают информацию о состоянии для протокола HTTP, который сам по себе этого делать не умеет.

```
   cookie: name1=value1; name2=value2;
```

Cookie используются, главным образом, для:

* Управления сеансом (логины, корзины для виртуальных покупок)
* Персонализации (пользовательские предпочтения)
* Мониторинга (отслеживания поведения пользователя)

Получив HTTP-запрос, сервер может отправить с ответом заголовок Set-Cookie. Этот заголовок даёт клиенту указание сохранить или перезаписать существующие cookie.

Можно задать срок действия cookie, а также срок его жизни, после которого cookie не будет отправляться. Также можно указать ограничения на путь и домен, то есть указать, в течении какого времени и к какому сайту они отсылается.

Подробнее про куки можно почитать [тут](https://developer.mozilla.org/ru/docs/Web/HTTP/Cookies).
# Флаги и дескрипторы

Ранее свойства объекта рассматривались только как пары «ключ-значение».   
На самом деле свойства объекта гораздо мощнее и гибче...

Помимо значения `value`, свойства объекта имеют три специальных атрибута, их называют "флаги":

- **writable** – если ``true``, свойство можно изменить, иначе оно только для чтения.
- **enumerable** – если `true`, свойство перечисляется в циклах, в противном случае циклы его игнорируют.
- **configurable** – если `true`, свойство можно удалить, а эти атрибуты можно изменять, иначе этого делать нельзя.

Когда мы объявляли свойства при создании объекта или добавляли новые через `.` или `[..]`, иначе говоря создавали свойства "обычным способом", все эти флаги были равны по умолчанию `true`.

Метод **`Object.getOwnPropertyDescriptor(obj, propertyName)`**, где

`obj` — этоо бъект, из которого извлекается информация,  
`propertyName` — имя свойства из этого объекта, 

возвращает объект, так называемый `дескриптор свойства`, который содержит значение свойства и все его флаги.

```JavaScript
   let user = {
      name: "Артем"
   };

   const descriptor = Object.getOwnPropertyDescriptor(user, 'name');

   console.log(descriptor);
   /*
   {
      value: 'Артем',Object.defineProperty(obj, propertyName, descriptor)
       writable: true,
      enumerable: true,
      configurable: true
   }
   */
```

Для того, чтобы получить все дескрипторы свойств сразу, можно воспользоваться методом **`Object.getOwnPropertyDescriptors(obj).`**

Чтобы изменить флаги существуют методы:

**`Object.defineProperty(obj, propertyName, descriptor)`** для объявления/изменения одного свойства;
```JavaScript
   'use strict';

   let user = {
      name: 'Артем'
   };

   Object.defineProperty(user, "name", {
      value: 'Андрей', 
      writable: false
   });

   // Будет ошибка: Cannot assign to read only property 'name' of object
   user.name = "Pete";
```

**`Object.defineProperties(obj, descriptors)`** — для определения нескольких свойств сразу.

```JavaScript
   let user = {};
   Object.defineProperties(user, {
      name: {
         value: 'Иван',
         writable: false
      },
      lastname: {
         value: 'Петров'
      },
   });
```

Более подробную информацию по метода и флагам можно прочитать по ссылкам:   
<https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor>
<https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptors>
<https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty>
<https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties>
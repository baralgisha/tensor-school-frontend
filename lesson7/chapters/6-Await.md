# Синхронный стиль работы с Promise - async/await

async/await - специальный синтаксис для работы с промисами в "синхронном стиле".

Ключевое слово async ставится перед объявлением функции.

```javascript
    async function f1() {};
    const f2 = async () => {};
```

У слова async один простой смысл: эта функция всегда возвращает промис. Значения других типов оборачиваются в завершившийся успешно промис автоматически. Можно и явно вернуть промис, результат будет одинаковым.

```javascript
    async function f1() {
        return 1;
        // тоже самое что и
        // return Promise.resolve(1);
    };
```

Внутри функций объявленных с async становится доступно использование ключевого слова await.

Ключевое слово await заставит интерпретатор JavaScript ждать до тех пор, пока промис справа от await не выполнится. После чего оно вернёт его результат, и выполнение кода продолжится.

Обработка ошибок при использовании async/await выглядит также как и с синхронным кодом, с помощью конструкции try/catch.

Внутри асинхронной async функции пример из конца предыдущей главы будет выглядеть вот так. 

```javascript
    try {
        const [data, dialog] = await Promise.all([
            newLoadScript('./usersData.js'),
            newLoadScript('./dialog.js')
        ]);

        if (data.getCount()) {
            dialog.open(config);
        }
    } catch(err) {
        errorHandler(err);
    }
```